$(function(){function e(e){e=$(e);var o=e.closest(".checkbox"),t=e.prop("checked"),n=e.prop("disabled");o.toggleClass("checkbox-is-disabled",n),o.toggleClass("checkbox-is-checked",!n&&t),o.toggleClass("checkbox-is-unchecked",!n&&!t);var a=o.data("parent");a&&(o=o.closest(a),o[0]&&(o.toggleClass("checkbox-parent-is-disabled",n),o.toggleClass("checkbox-parent-is-checked",!n&&t),o.toggleClass("checkbox-parent-is-unchecked",!n&&!t)))}$(document.body).on("click",".checkbox-input",function(){e(this)}),$(".checkbox-input").each(function(){e(this)})}),$(function(){function e(){o?o=!1:($(t).removeClass("contextmenu-control-is-visible"),t=null)}var o=!1,t=null;$(document.body).on("click",".contextmenu-control",function(){if(t)return e();var n=this;$(n).addClass("contextmenu-control-is-visible"),o=!0,t=n}),$(document.body).on("click",e)}),$(function(){var e=new google.maps.Geocoder;$(".coordchooser").each(function(){var o=$(this),t=$(".coordchooser-content-address",o),n=+o.data("lat"),a=+o.data("lng"),i=new google.maps.Map($(".coordchooser-map",o)[0],{center:{lat:n,lng:a},scrollwheel:!0,disableDefaultUI:!0,zoom:8}),s=fs.map.createMarker({position:{lat:n,lng:a},map:i,draggable:!0});s.addListener("dragend",function(){var o=s.getPosition();i.panTo(o),e.geocode({location:o},function(e,o){o===google.maps.GeocoderStatus.OK&&e[1]&&(console.log(e[1]),t.html(e[1].formatted_address))})})})}),$(function(){$(".custommap").each(function(){var e=+$(this).data("lat"),o=+$(this).data("lng"),t=+$(this).data("zoom")||8,n=new fs.map.Map($(".custommap-map",this),e,o,t,{scrollwheel:!1});$(this).on("click",".zoom-in",function(){n.map.setZoom(n.map.getZoom()+1)}),$(this).on("click",".zoom-out",function(){n.map.setZoom(n.map.getZoom()-1)}),navigator.geolocation||$(".geo",this).hide(),$(this).on("click",".geo",function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){n.map.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})})});var a=$(".custommap-marker",this);a.remove(),a.each(function(e,o){var t=+$(o).data("lat"),a=+$(o).data("lng");n.addMarker(o,t,a)}),$(this).on("mouseenter","a.custommap-marker",function(){n.element.addClass("custommap-map-is-markerhovered")}),$(this).on("mouseleave","a.custommap-marker",function(){n.element.removeClass("custommap-map-is-markerhovered")});var i=$(".custommap-whereami",this);i[0]&&(i.remove(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};n.addLabel(i,o.lat,o.lng),i.data("centered")&&n.map.setCenter(o)}))})}),$(function(){$(document.body).on("click",".form-add-link",function(){var e=$(this).closest(".form-add"),o=$(".form-add-copy",e),t=o.clone(!0);t.removeClass("form-add-copy").addClass("form-copy"),t.prependTo(e)})}),$(function(){$(document.body).on("click",'.button[data-role="formedit"]',function(){var e=$(this).closest(".form-editable");e.addClass("form-editable-editing")}),$(document.body).on("click",'.button[data-role="formrevert"]',function(){var e=$(this).closest(".form-editable");e.removeClass("form-editable-editing")})}),$(function(){function e(){var e=document.body.scrollTop;o.toggleClass("header-is-mode-subheader",e>400)}var o=$(".header");o.data("sticky")&&(o.addClass("header-is-position-sticky"),e(),$(window).on("scroll",e))}),$(function(){var e=$(".splashhello");e[0]&&!$.cookie("skiphello")&&($.cookie("skiphello",!0,{path:"/",expires:365}),e.removeClass("overlay-is-hidden").addClass("overlay-is-visible"))}),$(function(){function e(){o?o=!1:($(t).removeClass("hiddenable-is-visible"),t=null),$(window).trigger("changesize")}var o=!1,t=null;$(document.body).on("click",".hiddenable-link",function(){if(t)return e();var n=$(this).closest(".hiddenable");$(n).addClass("hiddenable-is-visible"),o=!0,$(n).data("unclosable")||(t=n),$(window).trigger("changesize")}),$(document.body).on("click",e)}),$(function(){$(".pageindex-content").each(function(){var e=$(this);$(document.body).on("mouseenter",".pageindex-item",function(){e.addClass("pageindex-content-is-hovereditem")}),$(document.body).on("mouseleave",".pageindex-item",function(){e.removeClass("pageindex-content-is-hovereditem")})})}),window.fs||(fs={}),fs.map={},fs.map.Icon={DEFAULT:{url:"/img/map/marker.png",anchor:new google.maps.Point(14,11),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(28,28)},HOVERED:{url:"/img/map/marker-hover.png",anchor:new google.maps.Point(19,16),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(39,39)}},fs.map.createMarker=function(e){e.icon=fs.map.Icon.DEFAULT;var o=new google.maps.Marker(e);return o.addListener("mouseover",function(){o.setIcon(fs.map.Icon.HOVERED)}),o.addListener("mouseout",function(){o.setIcon(fs.map.Icon.DEFAULT)}),o},fs.map.CustomMarker=function(e,o,t){this.latlng=e,this.element=$(t)[0],this.setMap(o)},fs.map.CustomMarker.prototype=new google.maps.OverlayView,fs.map.CustomMarker.prototype.draw=function(){var e=this.div;if(!e){e=this.div=this.element;var o=this.getPanes();o.overlayImage.appendChild(e)}var t=this.getProjection().fromLatLngToDivPixel(this.latlng);t&&(e.style.left=t.x+"px",e.style.top=t.y+"px")},fs.map.CustomMarker.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)},fs.map.CustomMarker.prototype.getPosition=function(){return this.latlng},fs.map.Map=function(e,o,t,n,a){this.element=$(e),this.markers=[],this.labels=[],this.map=new google.maps.Map(this.element[0],$.extend({center:{lat:o,lng:t},disableDefaultUI:!0,zoom:n},a))},fs.map.Map.prototype.addObject=function(e,o,t,n){o=$(o),e.push({element:o,marker:new fs.map.CustomMarker(new google.maps.LatLng(t,n),this.map,o)})},fs.map.Map.prototype.addLabel=function(e,o,t){this.addObject(this.labels,e,o,t)},fs.map.Map.prototype.addMarker=function(e,o,t){this.addObject(this.markers,e,o,t)},fs.map.Map.prototype.clearMarkers=function(){$.each(this.markers,function(e,o){o.marker.setMap(null)}),this.markers=[]},$(function(){function e(){n[0]&&t.css({left:n.position().left+parseFloat(n.css("margin-left")),width:n.outerWidth(!1)}),t.toggleClass("header-nav-selection-is-visible",!!n[0]),a&&setTimeout(function(){window.location=a},500)}var o=$(".header-nav"),t=$(".header-nav-selection",o),n=$(".header-nav-item-selected",o),a=null;e(),$(document.body).on("click",".header-nav-item",function(o){o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(n.removeClass("header-nav-item-selected"),n=$(this),n.addClass("header-nav-item-selected"),a=n[0].href,o.preventDefault(),e())})}),$(function(){$(document.body).on("click",'.button[data-role="overlayclose"]',function(){$(this).closest(".overlay").addClass("overlay-is-hidden").removeClass("overlay-is-visible")})}),$(function(){$(document.body).on("click",".password-icon",function(){var e=$(this).closest(".password"),o=e.find("input"),t="password"!==o.prop("type");o.prop("type",t?"password":"text"),$(e).toggleClass("password-is-visible",!t)})}),window.fs||(fs={}),fs.plural=function(e,o,t,n){return e=Math.abs(e),e%=100,e>=5&&20>=e?n:(e%=10,1==e?o:e>=2&&4>=e?t:n)},$(function(){function e(e){e.addClass("popup-is-visible")}function o(e){e.removeClass("popup-is-visible")}var t=null,n=!1;$(document.body).on("click","*[data-popup-link]",function(){t&&o(t);var n=$(this).data("popup-link");t=$('.popup[data-popup="'+n+'"]'),e(t),t.addClass("popup-is-visible")}),$(document.body).on("click",".popup-content-inner",function(){n=!0}),$(document.body).on("click",".popup",function(){return n?void(n=!1):void(t&&(o(t),t=null))})}),$(function(){function e(e){e=$(e);var o=e.closest(".radio"),t=e.prop("checked"),n=e.prop("disabled");o.toggleClass("radio-is-disabled",n),o.toggleClass("radio-is-checked",!n&&t),o.toggleClass("radio-is-unchecked",!n&&!t);var a=o.data("parent"),i=o.data("parent-class");a&&i&&(o=o.closest(a),o[0]&&o.toggleClass(i,!n&&t))}$(document.body).on("change",".radio-input",function(){var o=$(this).prop("name");$('.radio-input[name="'+o+'"]').each(function(){e(this)})}),$(".radio-input").each(function(){e(this)})}),$(function(){$(".searchfilter").each(function(){function e(e){o!==e&&(o=e,n.toggleClass("searchfilter-is-active",o))}var o=!1,t=!1,n=$(this),a=$(".searchfilter-input",this),i=$(".searchfilter-content",this);a.on("focus",function(){e(!0)}),$(i).on("click",function(){t=!0}),$(a).on("click",function(){t=!0}),$(document.body).on("click",function(){return t?void(t=!1):void e(!1)})})}),$(function(){$("select").select2({minimumResultsForSearch:1/0})}),$(function(){$(".slider").each(function(){var e=($(this),$(".slider-control",this)),o=e[0],t=$(".slider-input");noUiSlider.create(o,{start:+e.data("start")||+e.data("max"),step:+e.data("step")||1,connect:"lower",range:{min:+e.data("min")||0,max:+e.data("max")}}),o.noUiSlider.on("update",function(e,o){t.val(+e[0])}),t.on("change",function(){o.noUiSlider.set(t.val())})})}),$(function(){$(".splashgallery").each(function(){function e(e){var c=t.length;o=Math.min(Math.max(0,e),c-1),i.css("left",100*-o+"%"),n.toggleClass("splashgallery-hidden",0===o),a.toggleClass("splashgallery-hidden",o===c-1),s.attr("href",t.eq(o).data("original"))}var o=0,t=$(".splashgallery-item",this),n=$(".splashgallery-prev",this),a=$(".splashgallery-next",this),i=$(".splashgallery-list",this),s=$(".splashgallery-expand",this);e(o),n.on("click",function(){e(o-1)}),a.on("click",function(){e(o+1)})}),$(document.body).on("click",".splashgallery-prev",function(){{var e=$(this).parent();$(".splashgallery-list",e),$(".splashgallery-item",e).length}$(element).addClass("hiddenable-is-visible"),becameActive=!0,$(element).data("unclosable")||(active=element)})}),$(function(){function e(){c.each(function(e,o){var t=$(o).offset().top-m;l[e]=[e,t],r[e]=t}),l.sort(function(e,o){return e[1]-o[1]})}function o(){e(),u=$(document.body).height(),d=$(window).height(),t()}function t(){var e=document.body.scrollTop;if(d+e>=u)return n(l[l.length-1][0]);for(var o=l.length-1;o>=0;o--)if(e>l[o][1])return n(o);return n(0)}function n(e){s.eq(i).toggleClass("subnavigation-item-selected",!1),s.eq(e).toggleClass("subnavigation-item-selected",!0),i=e}var a=$(".subnavigation");if(a[0]){var i=0,s=$(".subnavigation-item",a),c=[];s.each(function(){c.push($(this.hash)[0])}),c=$(c);var l=[],r={},d=0,u=0,m=60;s.each(function(o){$(this).on("click",function(t){t.preventDefault();var n=document.body.scrollTop;document.location.hash=this.hash,document.body.scrollTop=n,e(),$(document.body).animate({scrollTop:r[o]+m/2},500)})}),o(),$(window).on("resize changesize",o),$(window).on("scroll",t)}}),$(function(){function e(e){e=$(e);var o=e.data("symbols-counter-id"),t=e.prop("maxlength"),n=$('*[data-symbols-counter="'+o+'"]'),a=t-e.val().length;n.html(a+" "+fs.plural(a,"символ","символа","символов"))}$(document.body).on("keyup",".form-textarea[data-symbols-counter-id]",function(){e(this)}),$(".form-textarea[data-symbols-counter-id]").each(function(){e(this)})}),$(function(){function e(e,o){var t=$(e).toggleClass("tabs-tab-selected",o).data("id");$('.tabscontent[data-id="'+t+'"]').css("display",o?"block":"")}$(document.body).on("click",".tabs-tab",function(){var o=$(this).closest(".tabs");$(".tabs-tab-selected",o).each(function(){e(this,!1)}),e(this,!0)}),$(".tabs-tab-selected").each(function(){e(this,!0)})});