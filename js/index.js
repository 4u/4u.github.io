$(function(){function o(o){o=$(o);var e=o.closest(".checkbox"),n=o.prop("checked"),t=o.prop("disabled");e.toggleClass("checkbox-is-disabled",t),e.toggleClass("checkbox-is-checked",!t&&n),e.toggleClass("checkbox-is-unchecked",!t&&!n);var a=e.data("parent");a&&(e=e.closest(a),e[0]&&(e.toggleClass("checkbox-parent-is-disabled",t),e.toggleClass("checkbox-parent-is-checked",!t&&n),e.toggleClass("checkbox-parent-is-unchecked",!t&&!n)))}$(document.body).on("click",".checkbox-input",function(){o(this)}),$(".checkbox-input").each(function(){o(this)})}),$(function(){function o(){e?e=!1:($(n).removeClass("contextmenu-control-is-visible"),n=null)}var e=!1,n=null;$(document.body).on("click",".contextmenu-control",function(){if(n)return o();var t=this;$(t).addClass("contextmenu-control-is-visible"),e=!0,n=t}),$(document.body).on("click",o)}),$(function(){var o=new google.maps.Geocoder;$(".coordchooser").each(function(){var e=$(this),n=$(".coordchooser-content-address",e),t=+e.data("lat"),a=+e.data("lng"),c=new google.maps.Map($(".coordchooser-map",e)[0],{center:{lat:t,lng:a},scrollwheel:!0,disableDefaultUI:!0,zoom:8}),s=fs.map.createMarker({position:{lat:t,lng:a},map:c,draggable:!0});s.addListener("dragend",function(){var e=s.getPosition();c.panTo(e),o.geocode({location:e},function(o,e){e===google.maps.GeocoderStatus.OK&&o[1]&&(console.log(o[1]),n.html(o[1].formatted_address))})})})}),$(function(){$(document.body).on("click",".form-add-link",function(){var o=$(this).closest(".form-add"),e=$(".form-add-copy",o),n=e.clone(!0);n.removeClass("form-add-copy").addClass("form-copy"),n.prependTo(o)})}),$(function(){$(document.body).on("click",'.button[data-role="formedit"]',function(){var o=$(this).closest(".form-editable");o.addClass("form-editable-editing")}),$(document.body).on("click",'.button[data-role="formrevert"]',function(){var o=$(this).closest(".form-editable");o.removeClass("form-editable-editing")})}),$(function(){var o=$(".header");!o[0]}),window.fs||(fs={}),fs.map={},fs.map.Icon={DEFAULT:{url:"/img/map/marker.png",anchor:new google.maps.Point(14,11),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(28,28)},HOVERED:{url:"/img/map/marker-hover.png",anchor:new google.maps.Point(19,16),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(39,39)}},fs.map.createMarker=function(o){o.icon=fs.map.Icon.DEFAULT;var e=new google.maps.Marker(o);return e.addListener("mouseover",function(){e.setIcon(fs.map.Icon.HOVERED)}),e.addListener("mouseout",function(){e.setIcon(fs.map.Icon.DEFAULT)}),e},$(function(){$(document.body).on("click",".password-icon",function(){var o=$(this).closest(".password"),e=o.find("input"),n="password"!==e.prop("type");e.prop("type",n?"password":"text"),$(o).toggleClass("password-is-visible",!n)})}),window.fs||(fs={}),fs.plural=function(o,e,n,t){return o=Math.abs(o),o%=100,o>=5&&20>=o?t:(o%=10,1==o?e:o>=2&&4>=o?n:t)},$(function(){function o(o){o.addClass("popup-is-visible")}function e(o){o.removeClass("popup-is-visible")}var n=null,t=!1;$(document.body).on("click","*[data-popup-link]",function(){n&&e(n);var t=$(this).data("popup-link");n=$('.popup[data-popup="'+t+'"]'),o(n),n.addClass("popup-is-visible")}),$(document.body).on("click",".popup-content-inner",function(){t=!0}),$(document.body).on("click",".popup",function(){return t?void(t=!1):void(n&&(e(n),n=null))})}),$(function(){function o(o){o=$(o);var e=o.closest(".radio"),n=o.prop("checked"),t=o.prop("disabled");e.toggleClass("radio-is-disabled",t),e.toggleClass("radio-is-checked",!t&&n),e.toggleClass("radio-is-unchecked",!t&&!n)}$(document.body).on("change",".radio-input",function(){var e=$(this).prop("name");$('.radio-input[name="'+e+'"]').each(function(){o(this)})}),$(".radio-input").each(function(){o(this)})}),$(function(){$("select").select2({minimumResultsForSearch:1/0})}),$(function(){function o(o){o=$(o);var e=o.data("symbols-counter-id"),n=o.prop("maxlength"),t=$('*[data-symbols-counter="'+e+'"]'),a=n-o.val().length;t.html(a+" "+fs.plural(a,"символ","символа","символов"))}$(document.body).on("keyup",".form-textarea[data-symbols-counter-id]",function(){o(this)}),$(".form-textarea[data-symbols-counter-id]").each(function(){o(this)})}),$(function(){function o(o,e){var n=$(o).toggleClass("tabs-tab-selected",e).data("id");$('.tabscontent[data-id="'+n+'"]').css("display",e?"block":"")}$(document.body).on("click",".tabs-tab",function(){var e=$(this).closest(".tabs");$(".tabs-tab-selected",e).each(function(){o(this,!1)}),o(this,!0)}),$(".tabs-tab-selected").each(function(){o(this,!0)})});