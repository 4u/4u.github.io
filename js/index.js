$(function(){function o(o){o=$(o);var e=o.closest(".checkbox"),t=o.prop("checked"),n=o.prop("disabled");e.toggleClass("checkbox-is-disabled",n),e.toggleClass("checkbox-is-checked",!n&&t),e.toggleClass("checkbox-is-unchecked",!n&&!t);var a=e.data("parent");a&&(e=e.closest(a),e[0]&&(e.toggleClass("checkbox-parent-is-disabled",n),e.toggleClass("checkbox-parent-is-checked",!n&&t),e.toggleClass("checkbox-parent-is-unchecked",!n&&!t)))}$(document.body).on("click",".checkbox-input",function(){o(this)}),$(".checkbox-input").each(function(){o(this)})}),$(function(){function o(){e?e=!1:($(t).removeClass("contextmenu-control-is-visible"),t=null)}var e=!1,t=null;$(document.body).on("click",".contextmenu-control",function(){if(t)return o();var n=this;$(n).addClass("contextmenu-control-is-visible"),e=!0,t=n}),$(document.body).on("click",o)}),$(function(){var o=new google.maps.Geocoder;$(".coordchooser").each(function(){var e=$(this),t=$(".coordchooser-content-address",e),n=+e.data("lat"),a=+e.data("lng"),s=new google.maps.Map($(".coordchooser-map",e)[0],{center:{lat:n,lng:a},scrollwheel:!0,disableDefaultUI:!0,zoom:8}),c=fs.map.createMarker({position:{lat:n,lng:a},map:s,draggable:!0});c.addListener("dragend",function(){var e=c.getPosition();s.panTo(e),o.geocode({location:e},function(o,e){e===google.maps.GeocoderStatus.OK&&o[1]&&(console.log(o[1]),t.html(o[1].formatted_address))})})})}),$(function(){$(document.body).on("click",".form-add-link",function(){var o=$(this).closest(".form-add"),e=$(".form-add-copy",o),t=e.clone(!0);t.removeClass("form-add-copy").addClass("form-copy"),t.prependTo(o)})}),$(function(){$(document.body).on("click",'.button[data-role="formedit"]',function(){var o=$(this).closest(".form-editable");o.addClass("form-editable-editing")}),$(document.body).on("click",'.button[data-role="formrevert"]',function(){var o=$(this).closest(".form-editable");o.removeClass("form-editable-editing")})}),$(function(){var o=$(".header");!o[0]}),window.fs||(fs={}),fs.map={},fs.map.Icon={DEFAULT:{url:"/img/map/marker.png",anchor:new google.maps.Point(14,11),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(28,28)},HOVERED:{url:"/img/map/marker-hover.png",anchor:new google.maps.Point(19,16),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(39,39)}},fs.map.createMarker=function(o){o.icon=fs.map.Icon.DEFAULT;var e=new google.maps.Marker(o);return e.addListener("mouseover",function(){e.setIcon(fs.map.Icon.HOVERED)}),e.addListener("mouseout",function(){e.setIcon(fs.map.Icon.DEFAULT)}),e},$(function(){$(document.body).on("click",".password-icon",function(){var o=$(this).closest(".password"),e=o.find("input"),t="password"!==e.prop("type");e.prop("type",t?"password":"text"),$(o).toggleClass("password-is-visible",!t)})}),window.fs||(fs={}),fs.plural=function(o,e,t,n){return o=Math.abs(o),o%=100,o>=5&&20>=o?n:(o%=10,1==o?e:o>=2&&4>=o?t:n)},$(function(){function o(o){o=$(o);var e=o.closest(".radio"),t=o.prop("checked"),n=o.prop("disabled");e.toggleClass("radio-is-disabled",n),e.toggleClass("radio-is-checked",!n&&t),e.toggleClass("radio-is-unchecked",!n&&!t)}$(document.body).on("change",".radio-input",function(){var e=$(this).prop("name");$('.radio-input[name="'+e+'"]').each(function(){o(this)})}),$(".radio-input").each(function(){o(this)})}),$(function(){$("select").select2({minimumResultsForSearch:1/0})}),$(function(){function o(o){o=$(o);var e=o.data("symbols-counter-id"),t=o.prop("maxlength"),n=$('*[data-symbols-counter="'+e+'"]'),a=t-o.val().length;n.html(a+" "+fs.plural(a,"символ","символа","символов"))}$(document.body).on("keyup",".form-textarea[data-symbols-counter-id]",function(){o(this)}),$(".form-textarea[data-symbols-counter-id]").each(function(){o(this)})}),$(function(){function o(o,e){var t=$(o).toggleClass("tabs-tab-selected",e).data("id");$('.tabscontent[data-id="'+t+'"]').css("display",e?"block":"")}$(document.body).on("click",".tabs-tab",function(){var e=$(this).closest(".tabs");$(".tabs-tab-selected",e).each(function(){o(this,!1)}),o(this,!0)}),$(".tabs-tab-selected").each(function(){o(this,!0)})});