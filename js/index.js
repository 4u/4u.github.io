$(function(){function o(o){o=$(o);var e=o.closest(".checkbox"),t=o.prop("checked"),n=o.prop("disabled");e.toggleClass("checkbox-is-disabled",n),e.toggleClass("checkbox-is-checked",!n&&t),e.toggleClass("checkbox-is-unchecked",!n&&!t);var a=e.data("parent");a&&(e=e.closest(a),e[0]&&(e.toggleClass("checkbox-parent-is-disabled",n),e.toggleClass("checkbox-parent-is-checked",!n&&t),e.toggleClass("checkbox-parent-is-unchecked",!n&&!t)))}$(document.body).on("click",".checkbox-input",function(){o(this)}),$(".checkbox-input").each(function(){o(this)})}),$(function(){function o(){e?e=!1:($(t).removeClass("contextmenu-control-is-visible"),t=null)}var e=!1,t=null;$(document.body).on("click",".contextmenu-control",function(){if(t)return o();var n=this;$(n).addClass("contextmenu-control-is-visible"),e=!0,t=n}),$(document.body).on("click",o)}),$(function(){var o=new google.maps.Geocoder;$(".coordchooser").each(function(){var e=$(this),t=$(".coordchooser-content-address",e),n=+e.data("lat"),a=+e.data("lng"),s=new google.maps.Map($(".coordchooser-map",e)[0],{center:{lat:n,lng:a},scrollwheel:!0,disableDefaultUI:!0,zoom:8}),i=fs.map.createMarker({position:{lat:n,lng:a},map:s,draggable:!0});i.addListener("dragend",function(){var e=i.getPosition();s.panTo(e),o.geocode({location:e},function(o,e){e===google.maps.GeocoderStatus.OK&&o[1]&&(console.log(o[1]),t.html(o[1].formatted_address))})})})}),$(function(){$(".footermap").each(function(){var o=+$(this).data("lat"),e=+$(this).data("lng"),t=+$(this).data("zoom")||8,n=$(".footermap-marker",this);n.remove();var a=new google.maps.Map($(".footermap-map",this)[0],{center:{lat:o,lng:e},scrollwheel:!1,disableDefaultUI:!0,zoom:t});n.each(function(o,e){{var t=+$(e).data("lat"),n=+$(e).data("lng");new fs.map.CustomMarker(new google.maps.LatLng(t,n),a,e)}})})}),$(function(){$(document.body).on("click",".form-add-link",function(){var o=$(this).closest(".form-add"),e=$(".form-add-copy",o),t=e.clone(!0);t.removeClass("form-add-copy").addClass("form-copy"),t.prependTo(o)})}),$(function(){$(document.body).on("click",'.button[data-role="formedit"]',function(){var o=$(this).closest(".form-editable");o.addClass("form-editable-editing")}),$(document.body).on("click",'.button[data-role="formrevert"]',function(){var o=$(this).closest(".form-editable");o.removeClass("form-editable-editing")})}),$(function(){function o(){var o=document.body.scrollTop;e.toggleClass("header-is-mode-subheader",o>400)}var e=$(".header");e.data("sticky")&&(e.addClass("header-is-position-sticky"),o(),$(window).on("scroll",o))}),$(function(){function o(){e?e=!1:($(t).removeClass("hiddenable-is-visible"),t=null),$(window).trigger("changesize")}var e=!1,t=null;$(document.body).on("click",".hiddenable-link",function(){if(t)return o();var n=$(this).closest(".hiddenable");$(n).addClass("hiddenable-is-visible"),e=!0,$(n).data("unclosable")||(t=n),$(window).trigger("changesize")}),$(document.body).on("click",o)}),window.fs||(fs={}),fs.map={},fs.map.Icon={DEFAULT:{url:"/img/map/marker.png",anchor:new google.maps.Point(14,11),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(28,28)},HOVERED:{url:"/img/map/marker-hover.png",anchor:new google.maps.Point(19,16),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(39,39)}},fs.map.createMarker=function(o){o.icon=fs.map.Icon.DEFAULT;var e=new google.maps.Marker(o);return e.addListener("mouseover",function(){e.setIcon(fs.map.Icon.HOVERED)}),e.addListener("mouseout",function(){e.setIcon(fs.map.Icon.DEFAULT)}),e},fs.map.CustomMarker=function(o,e,t){this.latlng=o,this.element=$(t)[0],this.setMap(e)},fs.map.CustomMarker.prototype=new google.maps.OverlayView,fs.map.CustomMarker.prototype.draw=function(){var o=this.div;if(!o){o=this.div=this.element;var e=this.getPanes();e.overlayImage.appendChild(o)}var t=this.getProjection().fromLatLngToDivPixel(this.latlng);t&&(o.style.left=t.x+"px",o.style.top=t.y+"px")},fs.map.CustomMarker.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)},fs.map.CustomMarker.prototype.getPosition=function(){return this.latlng},$(function(){$(document.body).on("click",".password-icon",function(){var o=$(this).closest(".password"),e=o.find("input"),t="password"!==e.prop("type");e.prop("type",t?"password":"text"),$(o).toggleClass("password-is-visible",!t)})}),window.fs||(fs={}),fs.plural=function(o,e,t,n){return o=Math.abs(o),o%=100,o>=5&&20>=o?n:(o%=10,1==o?e:o>=2&&4>=o?t:n)},$(function(){function o(o){o.addClass("popup-is-visible")}function e(o){o.removeClass("popup-is-visible")}var t=null,n=!1;$(document.body).on("click","*[data-popup-link]",function(){t&&e(t);var n=$(this).data("popup-link");t=$('.popup[data-popup="'+n+'"]'),o(t),t.addClass("popup-is-visible")}),$(document.body).on("click",".popup-content-inner",function(){n=!0}),$(document.body).on("click",".popup",function(){return n?void(n=!1):void(t&&(e(t),t=null))})}),$(function(){function o(o){o=$(o);var e=o.closest(".radio"),t=o.prop("checked"),n=o.prop("disabled");e.toggleClass("radio-is-disabled",n),e.toggleClass("radio-is-checked",!n&&t),e.toggleClass("radio-is-unchecked",!n&&!t)}$(document.body).on("change",".radio-input",function(){var e=$(this).prop("name");$('.radio-input[name="'+e+'"]').each(function(){o(this)})}),$(".radio-input").each(function(){o(this)})}),$(function(){$("select").select2({minimumResultsForSearch:1/0})}),$(function(){$(".splashgallery").each(function(){function o(o){var l=t.length;e=Math.min(Math.max(0,o),l-1),s.css("left",100*-e+"%"),n.toggleClass("splashgallery-hidden",0===e),a.toggleClass("splashgallery-hidden",e===l-1),i.attr("href",t.eq(e).data("original"))}var e=0,t=$(".splashgallery-item",this),n=$(".splashgallery-prev",this),a=$(".splashgallery-next",this),s=$(".splashgallery-list",this),i=$(".splashgallery-expand",this);o(e),n.on("click",function(){o(e-1)}),a.on("click",function(){o(e+1)})}),$(document.body).on("click",".splashgallery-prev",function(){{var o=$(this).parent();$(".splashgallery-list",o),$(".splashgallery-item",o).length}$(element).addClass("hiddenable-is-visible"),becameActive=!0,$(element).data("unclosable")||(active=element)})}),$(function(){function o(){l.each(function(o,e){var t=$(e).offset().top-p;c[o]=[o,t],r[o]=t}),c.sort(function(o,e){return o[1]-e[1]})}function e(){o(),u=$(document.body).height(),d=$(window).height(),t()}function t(){var o=document.body.scrollTop;if(d+o>=u)return n(c[c.length-1][0]);for(var e=c.length-1;e>=0;e--)if(o>c[e][1])return n(e);return n(0)}function n(o){i.eq(s).toggleClass("subnavigation-item-selected",!1),i.eq(o).toggleClass("subnavigation-item-selected",!0),s=o}var a=$(".subnavigation");if(a[0]){var s=0,i=$(".subnavigation-item",a),l=[];i.each(function(){l.push($(this.hash)[0])}),l=$(l);var c=[],r={},d=0,u=0,p=60;i.each(function(e){$(this).on("click",function(t){t.preventDefault();var n=document.body.scrollTop;document.location.hash=this.hash,document.body.scrollTop=n,o(),$(document.body).animate({scrollTop:r[e]+p/2},500)})}),e(),$(window).on("resize changesize",e),$(window).on("scroll",t)}}),$(function(){function o(o){o=$(o);var e=o.data("symbols-counter-id"),t=o.prop("maxlength"),n=$('*[data-symbols-counter="'+e+'"]'),a=t-o.val().length;n.html(a+" "+fs.plural(a,"символ","символа","символов"))}$(document.body).on("keyup",".form-textarea[data-symbols-counter-id]",function(){o(this)}),$(".form-textarea[data-symbols-counter-id]").each(function(){o(this)})}),$(function(){function o(o,e){var t=$(o).toggleClass("tabs-tab-selected",e).data("id");$('.tabscontent[data-id="'+t+'"]').css("display",e?"block":"")}$(document.body).on("click",".tabs-tab",function(){var e=$(this).closest(".tabs");$(".tabs-tab-selected",e).each(function(){o(this,!1)}),o(this,!0)}),$(".tabs-tab-selected").each(function(){o(this,!0)})});